<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Calculator E1</title>

<style>
*{box-sizing:border-box;font-family:system-ui}
body{
  margin:0;
  background:#0b1220;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.calc{
  width:360px;
  background:#111a2e;
  padding:18px;
  border-radius:26px;
  box-shadow:0 25px 50px rgba(0,0,0,.6);
}
.display{
  height:72px;
  background:#050b18;
  border-radius:16px;
  color:#fff;
  padding:14px;
  font-size:26px;
  text-align:right;
  overflow-x:auto;
}
.keys{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
  margin-top:16px;
}
button{
  height:56px;
  border:none;
  border-radius:50%;
  background:#1e2840;
  color:#fff;
  font-size:18px;
}
button.op{background:#26355a}
button.eq{background:#20c96b;color:#000}
button.clear{background:#e94b4b}
button.fn{background:#364a73}
button:active{transform:scale(.96)}
</style>
</head>

<body>
<div class="calc">
  <div id="display" class="display">0</div>

  <div class="keys">
    <button class="clear" onclick="clr()">C</button>
    <button class="fn" onclick="fn('sin(')">sin</button>
    <button class="fn" onclick="fn('cos(')">cos</button>
    <button class="fn" onclick="fn('tan(')">tan</button>

    <button class="fn" onclick="fn('log(')">log</button>
    <button class="fn" onclick="fn('sqrt(')">√</button>
    <button onclick="inp('(')">(</button>
    <button onclick="inp(')')">)</button>

    <button onclick="inp('7')">7</button>
    <button onclick="inp('8')">8</button>
    <button onclick="inp('9')">9</button>
    <button class="op" onclick="inp('/')">÷</button>

    <button onclick="inp('4')">4</button>
    <button onclick="inp('5')">5</button>
    <button onclick="inp('6')">6</button>
    <button class="op" onclick="inp('*')">×</button>

    <button onclick="inp('1')">1</button>
    <button onclick="inp('2')">2</button>
    <button onclick="inp('3')">3</button>
    <button class="op" onclick="inp('-')">−</button>

    <button onclick="inp('0')">0</button>
    <button onclick="inp('.')">.</button>
    <button onclick="inp('^')">^</button>
    <button class="op" onclick="inp('+')">+</button>

    <button style="grid-column:span 4" class="eq" onclick="calc()">=</button>
  </div>
</div>

<script>
let exp="";
const d=document.getElementById("display");

function inp(v){
  if(d.innerText==="0") exp="";
  exp+=v;
  d.innerText=exp;
}
function fn(v){ inp(v); }
function clr(){
  exp="";
  d.innerText="0";
}

function calc(){
  try{
    let e = exp
      .replace(/÷/g,'/')
      .replace(/×/g,'*')
      .replace(/(\d+)\^(\d+)/g,'Math.pow($1,$2)')
      .replace(/sin/g,'Math.sin')
      .replace(/cos/g,'Math.cos')
      .replace(/tan/g,'Math.tan')
      .replace(/log/g,'Math.log10')
      .replace(/sqrt/g,'Math.sqrt');

    let r = Function("return "+e)();
    d.innerText = Number.isFinite(r) ? r : "ERROR";
    exp = d.innerText;
  }catch{
    d.innerText="ERROR";
    exp="";
  }
}
</script>
</body>
</html>
